// deno-lint-ignore-file
var et=["top","right","bottom","left"],dt=["start","end"],it=et.reduce((t,e)=>t.concat(e,e+"-"+dt[0],e+"-"+dt[1]),[]),M=Math.min,C=Math.max,K=Math.round,U=Math.floor,E=t=>({x:t,y:t}),Ut={left:"right",right:"left",bottom:"top",top:"bottom"},Xt={start:"end",end:"start"};function nt(t,e,n){return C(t,M(e,n))}function V(t,e){return typeof t=="function"?t(e):t}function H(t){return t.split("-")[0]}function S(t){return t.split("-")[1]}function ot(t){return t==="x"?"y":"x"}function rt(t){return t==="y"?"height":"width"}function X(t){return["top","bottom"].includes(H(t))?"y":"x"}function lt(t){return ot(X(t))}function mt(t,e,n){n===void 0&&(n=!1);let i=S(t),o=lt(t),l=rt(o),r=o==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[l]>e.floating[l]&&(r=tt(r)),[r,tt(r)]}function ht(t){return t.replace(/start|end/g,e=>Xt[e])}function tt(t){return t.replace(/left|right|bottom|top/g,e=>Ut[e])}function Yt(t){return{top:0,right:0,bottom:0,left:0,...t}}function pt(t){return typeof t!="number"?Yt(t):{top:t,right:t,bottom:t,left:t}}function F(t){let{x:e,y:n,width:i,height:o}=t;return{width:i,height:o,top:n,left:e,right:e+i,bottom:n+o,x:e,y:n}}function gt(t,e,n){let{reference:i,floating:o}=t,l=X(e),r=lt(e),a=rt(r),s=H(e),c=l==="y",d=i.x+i.width/2-o.width/2,u=i.y+i.height/2-o.height/2,m=i[a]/2-o[a]/2,f;switch(s){case"top":f={x:d,y:i.y-o.height};break;case"bottom":f={x:d,y:i.y+i.height};break;case"right":f={x:i.x+i.width,y:u};break;case"left":f={x:i.x-o.width,y:u};break;default:f={x:i.x,y:i.y}}switch(S(e)){case"start":f[r]-=m*(n&&c?-1:1);break;case"end":f[r]+=m*(n&&c?-1:1);break}return f}var xt=async(t,e,n)=>{let{placement:i="bottom",strategy:o="absolute",middleware:l=[],platform:r}=n,a=l.filter(Boolean),s=await(r.isRTL==null?void 0:r.isRTL(e)),c=await r.getElementRects({reference:t,floating:e,strategy:o}),{x:d,y:u}=gt(c,i,s),m=i,f={},g=0;for(let h=0;h<a.length;h++){let{name:y,fn:p}=a[h],{x:w,y:x,data:b,reset:A}=await p({x:d,y:u,initialPlacement:i,placement:m,strategy:o,middlewareData:f,rects:c,platform:r,elements:{reference:t,floating:e}});d=w??d,u=x??u,f={...f,[y]:{...f[y],...b}},A&&g<=50&&(g++,typeof A=="object"&&(A.placement&&(m=A.placement),A.rects&&(c=A.rects===!0?await r.getElementRects({reference:t,floating:e,strategy:o}):A.rects),{x:d,y:u}=gt(c,m,s)),h=-1)}return{x:d,y:u,placement:m,strategy:o,middlewareData:f}};async function j(t,e){var n;e===void 0&&(e={});let{x:i,y:o,platform:l,rects:r,elements:a,strategy:s}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:u="floating",altBoundary:m=!1,padding:f=0}=V(e,t),g=pt(f),h=a[m?u==="floating"?"reference":"floating":u],y=F(await l.getClippingRect({element:(n=await(l.isElement==null?void 0:l.isElement(h)))==null||n?h:h.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:s})),p=u==="floating"?{x:i,y:o,width:r.floating.width,height:r.floating.height}:r.reference,w=await(l.getOffsetParent==null?void 0:l.getOffsetParent(a.floating)),x=await(l.isElement==null?void 0:l.isElement(w))?await(l.getScale==null?void 0:l.getScale(w))||{x:1,y:1}:{x:1,y:1},b=F(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:p,offsetParent:w,strategy:s}):p);return{top:(y.top-b.top+g.top)/x.y,bottom:(b.bottom-y.bottom+g.bottom)/x.y,left:(y.left-b.left+g.left)/x.x,right:(b.right-y.right+g.right)/x.x}}function _t(t,e,n){return(t?[...n.filter(i=>S(i)===t),...n.filter(i=>S(i)!==t)]:n.filter(i=>H(i)===i)).filter(i=>t?S(i)===t||(e?ht(i)!==i:!1):!0)}var vt=function(t){return t===void 0&&(t={}),{name:"autoPlacement",options:t,async fn(e){var n,i,o;let{rects:l,middlewareData:r,placement:a,platform:s,elements:c}=e,{crossAxis:d=!1,alignment:u,allowedPlacements:m=it,autoAlignment:f=!0,...g}=V(t,e),h=u!==void 0||m===it?_t(u||null,f,m):m,y=await j(e,g),p=((n=r.autoPlacement)==null?void 0:n.index)||0,w=h[p];if(w==null)return{};let x=mt(w,l,await(s.isRTL==null?void 0:s.isRTL(c.floating)));if(a!==w)return{reset:{placement:h[0]}};let b=[y[H(w)],y[x[0]],y[x[1]]],A=[...((i=r.autoPlacement)==null?void 0:i.overflows)||[],{placement:w,overflows:b}],D=h[p+1];if(D)return{data:{index:p+1,overflows:A},reset:{placement:D}};let ft=A.map(P=>{let I=S(P.placement);return[P.placement,I&&d?P.overflows.slice(0,2).reduce((It,Kt)=>It+Kt,0):P.overflows[0],P.overflows]}).sort((P,I)=>P[1]-I[1]),ut=((o=ft.filter(P=>P[2].slice(0,S(P[0])?2:3).every(I=>I<=0))[0])==null?void 0:o[0])||ft[0][0];return ut!==a?{data:{index:p+1,overflows:A},reset:{placement:ut}}:{}}}};function yt(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function wt(t){return et.some(e=>t[e]>=0)}var bt=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){let{rects:n}=e,{strategy:i="referenceHidden",...o}=V(t,e);switch(i){case"referenceHidden":{let l=await j(e,{...o,elementContext:"reference"}),r=yt(l,n.reference);return{data:{referenceHiddenOffsets:r,referenceHidden:wt(r)}}}case"escaped":{let l=await j(e,{...o,altBoundary:!0}),r=yt(l,n.floating);return{data:{escapedOffsets:r,escaped:wt(r)}}}default:return{}}}}};async function Jt(t,e){let{placement:n,platform:i,elements:o}=t,l=await(i.isRTL==null?void 0:i.isRTL(o.floating)),r=H(n),a=S(n),s=X(n)==="y",c=["left","top"].includes(r)?-1:1,d=l&&s?-1:1,u=V(e,t),{mainAxis:m,crossAxis:f,alignmentAxis:g}=typeof u=="number"?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return a&&typeof g=="number"&&(f=a==="end"?g*-1:g),s?{x:f*d,y:m*c}:{x:m*c,y:f*d}}var At=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,i;let{x:o,y:l,placement:r,middlewareData:a}=e,s=await Jt(e,t);return r===((n=a.offset)==null?void 0:n.placement)&&(i=a.arrow)!=null&&i.alignmentOffset?{}:{x:o+s.x,y:l+s.y,data:{...s,placement:r}}}}},Rt=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){let{x:n,y:i,placement:o}=e,{mainAxis:l=!0,crossAxis:r=!1,limiter:a={fn:y=>{let{x:p,y:w}=y;return{x:p,y:w}}},...s}=V(t,e),c={x:n,y:i},d=await j(e,s),u=X(H(o)),m=ot(u),f=c[m],g=c[u];if(l){let y=m==="y"?"top":"left",p=m==="y"?"bottom":"right",w=f+d[y],x=f-d[p];f=nt(w,f,x)}if(r){let y=u==="y"?"top":"left",p=u==="y"?"bottom":"right",w=g+d[y],x=g-d[p];g=nt(w,g,x)}let h=a.fn({...e,[m]:f,[u]:g});return{...h,data:{x:h.x-n,y:h.y-i,enabled:{[m]:l,[u]:r}}}}}};function J(){return typeof globalThis<"u"}function B(t){return Et(t)?(t.nodeName||"").toLowerCase():"#document"}function v(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||globalThis}function L(t){var e;return(e=(Et(t)?t.ownerDocument:t.document)||globalThis.document)==null?void 0:e.documentElement}function Et(t){return J()?t instanceof Node||t instanceof v(t).Node:!1}function R(t){return J()?t instanceof Element||t instanceof v(t).Element:!1}function O(t){return J()?t instanceof HTMLElement||t instanceof v(t).HTMLElement:!1}function Tt(t){return!J()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof v(t).ShadowRoot}function q(t){let{overflow:e,overflowX:n,overflowY:i,display:o}=T(t);return/auto|scroll|overlay|hidden|clip/.test(e+i+n)&&!["inline","contents"].includes(o)}function Lt(t){return["table","td","th"].includes(B(t))}function Y(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function G(t){let e=Q(),n=R(t)?T(t):t;return["transform","translate","scale","rotate","perspective"].some(i=>n[i]?n[i]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(i=>(n.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(n.contain||"").includes(i))}function Ot(t){let e=k(t);for(;O(e)&&!N(e);){if(G(e))return e;if(Y(e))return null;e=k(e)}return null}function Q(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function N(t){return["html","body","#document"].includes(B(t))}function T(t){return v(t).getComputedStyle(t)}function _(t){return R(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function k(t){if(B(t)==="html")return t;let e=t.assignedSlot||t.parentNode||Tt(t)&&t.host||L(t);return Tt(e)?e.host:e}function Pt(t){let e=k(t);return N(e)?t.ownerDocument?t.ownerDocument.body:t.body:O(e)&&q(e)?e:Pt(e)}function z(t,e,n){var i;e===void 0&&(e=[]),n===void 0&&(n=!0);let o=Pt(t),l=o===((i=t.ownerDocument)==null?void 0:i.body),r=v(o);if(l){let a=Z(r);return e.concat(r,r.visualViewport||[],q(o)?o:[],a&&n?z(a):[])}return e.concat(o,z(o,[],n))}function Z(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function kt(t){let e=T(t),n=parseFloat(e.width)||0,i=parseFloat(e.height)||0,o=O(t),l=o?t.offsetWidth:n,r=o?t.offsetHeight:i,a=K(n)!==l||K(i)!==r;return a&&(n=l,i=r),{width:n,height:i,$:a}}function st(t){return R(t)?t:t.contextElement}function $(t){let e=st(t);if(!O(e))return E(1);let n=e.getBoundingClientRect(),{width:i,height:o,$:l}=kt(e),r=(l?K(n.width):n.width)/i,a=(l?K(n.height):n.height)/o;return(!r||!Number.isFinite(r))&&(r=1),(!a||!Number.isFinite(a))&&(a=1),{x:r,y:a}}var Gt=E(0);function Dt(t){let e=v(t);return!Q()||!e.visualViewport?Gt:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Qt(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==v(t)?!1:e}function W(t,e,n,i){e===void 0&&(e=!1),n===void 0&&(n=!1);let o=t.getBoundingClientRect(),l=st(t),r=E(1);e&&(i?R(i)&&(r=$(i)):r=$(t));let a=Qt(l,n,i)?Dt(l):E(0),s=(o.left+a.x)/r.x,c=(o.top+a.y)/r.y,d=o.width/r.x,u=o.height/r.y;if(l){let m=v(l),f=i&&R(i)?v(i):i,g=m,h=Z(g);for(;h&&i&&f!==g;){let y=$(h),p=h.getBoundingClientRect(),w=T(h),x=p.left+(h.clientLeft+parseFloat(w.paddingLeft))*y.x,b=p.top+(h.clientTop+parseFloat(w.paddingTop))*y.y;s*=y.x,c*=y.y,d*=y.x,u*=y.y,s+=x,c+=b,g=v(h),h=Z(g)}}return F({width:d,height:u,x:s,y:c})}function ct(t,e){let n=_(t).scrollLeft;return e?e.left+n:W(L(t)).left+n}function Ht(t,e,n){n===void 0&&(n=!1);let i=t.getBoundingClientRect(),o=i.left+e.scrollLeft-(n?0:ct(t,i)),l=i.top+e.scrollTop;return{x:o,y:l}}function Zt(t){let{elements:e,rect:n,offsetParent:i,strategy:o}=t,l=o==="fixed",r=L(i),a=e?Y(e.floating):!1;if(i===r||a&&l)return n;let s={scrollLeft:0,scrollTop:0},c=E(1),d=E(0),u=O(i);if((u||!u&&!l)&&((B(i)!=="body"||q(r))&&(s=_(i)),O(i))){let f=W(i);c=$(i),d.x=f.x+i.clientLeft,d.y=f.y+i.clientTop}let m=r&&!u&&!l?Ht(r,s,!0):E(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-s.scrollLeft*c.x+d.x+m.x,y:n.y*c.y-s.scrollTop*c.y+d.y+m.y}}function te(t){return Array.from(t.getClientRects())}function ee(t){let e=L(t),n=_(t),i=t.ownerDocument.body,o=C(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),l=C(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight),r=-n.scrollLeft+ct(t),a=-n.scrollTop;return T(i).direction==="rtl"&&(r+=C(e.clientWidth,i.clientWidth)-o),{width:o,height:l,x:r,y:a}}function ie(t,e){let n=v(t),i=L(t),o=n.visualViewport,l=i.clientWidth,r=i.clientHeight,a=0,s=0;if(o){l=o.width,r=o.height;let c=Q();(!c||c&&e==="fixed")&&(a=o.offsetLeft,s=o.offsetTop)}return{width:l,height:r,x:a,y:s}}function ne(t,e){let n=W(t,!0,e==="fixed"),i=n.top+t.clientTop,o=n.left+t.clientLeft,l=O(t)?$(t):E(1),r=t.clientWidth*l.x,a=t.clientHeight*l.y,s=o*l.x,c=i*l.y;return{width:r,height:a,x:s,y:c}}function Ct(t,e,n){let i;if(e==="viewport")i=ie(t,n);else if(e==="document")i=ee(L(t));else if(R(e))i=ne(e,n);else{let o=Dt(t);i={x:e.x-o.x,y:e.y-o.y,width:e.width,height:e.height}}return F(i)}function Ft(t,e){let n=k(t);return n===e||!R(n)||N(n)?!1:T(n).position==="fixed"||Ft(n,e)}function oe(t,e){let n=e.get(t);if(n)return n;let i=z(t,[],!1).filter(a=>R(a)&&B(a)!=="body"),o=null,l=T(t).position==="fixed",r=l?k(t):t;for(;R(r)&&!N(r);){let a=T(r),s=G(r);!s&&a.position==="fixed"&&(o=null),(l?!s&&!o:!s&&a.position==="static"&&o&&["absolute","fixed"].includes(o.position)||q(r)&&!s&&Ft(t,r))?i=i.filter(c=>c!==r):o=a,r=k(r)}return e.set(t,i),i}function re(t){let{element:e,boundary:n,rootBoundary:i,strategy:o}=t,l=[...n==="clippingAncestors"?Y(e)?[]:oe(e,this.i):[].concat(n),i],r=l[0],a=l.reduce((s,c)=>{let d=Ct(e,c,o);return s.top=C(d.top,s.top),s.right=M(d.right,s.right),s.bottom=M(d.bottom,s.bottom),s.left=C(d.left,s.left),s},Ct(e,r,o));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}}function le(t){let{width:e,height:n}=kt(t);return{width:e,height:n}}function ae(t,e,n){let i=O(e),o=L(e),l=n==="fixed",r=W(t,!0,l,e),a={scrollLeft:0,scrollTop:0},s=E(0);if(i||!i&&!l)if((B(e)!=="body"||q(o))&&(a=_(e)),i){let m=W(e,!0,l,e);s.x=m.x+e.clientLeft,s.y=m.y+e.clientTop}else o&&(s.x=ct(o));let c=o&&!i&&!l?Ht(o,a):E(0),d=r.left+a.scrollLeft-s.x-c.x,u=r.top+a.scrollTop-s.y-c.y;return{x:d,y:u,width:r.width,height:r.height}}function at(t){return T(t).position==="static"}function St(t,e){if(!O(t)||T(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return L(t)===n&&(n=n.ownerDocument.body),n}function zt(t,e){let n=v(t);if(Y(t))return n;if(!O(t)){let o=k(t);for(;o&&!N(o);){if(R(o)&&!at(o))return o;o=k(o)}return n}let i=St(t,e);for(;i&&Lt(i)&&at(i);)i=St(i,e);return i&&N(i)&&at(i)&&!G(i)?n:i||Ot(t)||n}var se=async function(t){let e=this.getOffsetParent||zt,n=this.getDimensions,i=await n(t.floating);return{reference:ae(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function ce(t){return T(t).direction==="rtl"}var fe={convertOffsetParentRelativeRectToViewportRelativeRect:Zt,getDocumentElement:L,getClippingRect:re,getOffsetParent:zt,getElementRects:se,getClientRects:te,getDimensions:le,getScale:$,isElement:R,isRTL:ce};function Bt(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function ue(t,e){let n=null,i,o=L(t);function l(){var a;clearTimeout(i),(a=n)==null||a.disconnect(),n=null}function r(a,s){a===void 0&&(a=!1),s===void 0&&(s=1),l();let c=t.getBoundingClientRect(),{left:d,top:u,width:m,height:f}=c;if(a||e(),!m||!f)return;let g=U(u),h=U(o.clientWidth-(d+m)),y=U(o.clientHeight-(u+f)),p=U(d),w={rootMargin:-g+"px "+-h+"px "+-y+"px "+-p+"px",threshold:C(0,M(1,s))||1},x=!0;function b(A){let D=A[0].intersectionRatio;if(D!==s){if(!x)return r();D?r(!1,D):i=setTimeout(()=>{r(!1,1e-7)},1e3)}D===1&&!Bt(c,t.getBoundingClientRect())&&r(),x=!1}try{n=new IntersectionObserver(b,{...w,root:o.ownerDocument})}catch{n=new IntersectionObserver(b,w)}n.observe(t)}return r(!0),l}function Nt(t,e,n,i){i===void 0&&(i={});let{ancestorScroll:o=!0,ancestorResize:l=!0,elementResize:r=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:s=!1}=i,c=st(t),d=o||l?[...c?z(c):[],...z(e)]:[];d.forEach(p=>{o&&p.addEventListener("scroll",n,{passive:!0}),l&&p.addEventListener("resize",n)});let u=c&&a?ue(c,n):null,m=-1,f=null;r&&(f=new ResizeObserver(p=>{let[w]=p;w&&w.target===c&&f&&(f.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var x;(x=f)==null||x.observe(e)})),n()}),c&&!s&&f.observe(c),f.observe(e));let g,h=s?W(t):null;s&&y();function y(){let p=W(t);h&&!Bt(h,p)&&n(),h=p,g=requestAnimationFrame(y)}return n(),()=>{var p;d.forEach(w=>{o&&w.removeEventListener("scroll",n),l&&w.removeEventListener("resize",n)}),u?.(),(p=f)==null||p.disconnect(),f=null,s&&cancelAnimationFrame(g)}}var Wt=j,Mt=At,Vt=vt,jt=Rt;var qt=bt;var $t=(t,e,n)=>{let i=new Map,o={platform:fe,...n},l={...o.platform,i};return xt(t,e,{...o,platform:l})};if(typeof window<"u"){class t extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open",delegatesFocus:!0}),this.open=!1,this.t=null}static get observedAttributes(){return["open"]}connectedCallback(){this.render(),this.addEventListener("focus",()=>this.focus()),document.addEventListener("click",this.clickOutsideHandler.bind(this))}disconnectedCallback(){this.removeEventListener("focus",()=>this.focus()),document.removeEventListener("click",this.clickOutsideHandler.bind(this)),this.t&&this.t()}attributeChangedCallback(n,i,o){n==="open"&&(this.open=o!==null,this.render(),this.n())}render(){let n=`
      :root {
        interpolate-size: allow-keywords;
      }
      
      :host {
        flex-shrink: 0;
        height: calc-size(max-content, size);
        min-height: 0;
        min-width: 0;
        position: relative;
        transition-property: height, width;
        transition-duration: var(--animDuration);
        transition-timing-function: var(--animTiming);
        width: calc-size(max-content, size);
        z-index: auto;
      }

      ::slotted(summary),
      ::slotted([slot="summary"]) {
        align-items: center;
        cursor: pointer;
        display: flex;
        flex-shrink: 0;
    
        &::marker {
          content: "";
          display: none;
        }
      }

      [part="dropmenu"] {
        background-color: var(--clr-background);
        display: flex;
        flex-direction: column;
        height: calc-size(max-content, size);
        isolation: isolate;
        max-height: clamp(40dvh, 150px, 70dvh);
        max-width: calc(100dvw - var(--md, 15px));
        min-height: 0;
        min-width: 0;
        outline: solid hsl(from var(--clr-background) h s calc(l + 5));
        overflow-x: clip;
        overflow-y: auto;
        padding: var(--xs, 5px);
        position: fixed;
        transition-property: top, bottom, opacity, visibility;
        transition-duration: var(--animDuration);
        transition-timing-function: var(--animTiming);
        width: calc-size(max-content, size);
        z-index: 1000000;
      }

      ::slotted(*) {
        flex-shrink: 0;
        width: 100%;
      }
    `;if(!this.shadowRoot)throw Error("shadowroot is null");this.shadowRoot.innerHTML=`
      <style>${n}</style>
      <slot name="summary" tabindex="0"></slot>
      ${this.open?`
        <div part="dropmenu">
            <slot></slot>
        </div>
      `:""}
    `,this.shadowRoot.querySelector('slot[name="summary"]').addEventListener("click",this.o.bind(this))}clickOutsideHandler(n){let i=n.composedPath()[0],o=!this.shadowRoot.contains(i)&&!this.contains(i);this.open&&o&&(this.open=!1,this.removeAttribute("open"))}o(){this.t&&this.t(),this.open=!this.open,this.open?this.setAttribute("open",""):this.removeAttribute("open")}e(n){let i=globalThis.devicePixelRatio||1;return Math.round(n*i)/i}n(){let n=this.shadowRoot.querySelector('slot[name="summary"]').assignedElements()[0],i=this.shadowRoot.querySelector('[part="dropmenu"]');n&&i&&this.open?this.t=Nt(n,i,async()=>{let{x:o,y:l,middlewareData:r}=await $t(n,i,{middleware:[Vt({autoAlignment:!0,alignment:"bottom",allowedPlacements:["top","bottom"],crossAxis:!0,padding:3}),Mt(3),jt({crossAxis:!0,mainAxis:!0,padding:3}),{name:"detectOverflow",async fn(a){return await Wt(a,{altBoundary:!0,boundary:document.documentElement,elementContext:"floating",padding:3,rootBoundary:{x:0,y:0,width:document.documentElement.clientWidth,height:document.documentElement.clientHeight}}),{}}},qt()],placement:"bottom",strategy:"fixed"});r.hide&&Object.assign(i.style,{opacity:r.hide.referenceHidden?"0":"1",pointerEvents:r.hide.referenceHidden?"none":"initial"}),Object.assign(i.style,{left:"0",top:"0",transform:`translate(${this.e(o)}px, ${this.e(l)}px)`})},{animationFrame:!0}):this.t&&(this.t(),this.t=null)}}customElements.define("x-dropdown",t)}
